<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Exercises · Julia for Machine Learning</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Julia for Machine Learning logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Julia for Machine Learning logo"/></a><div class="docs-package-name"><span class="docs-autofit">Julia for Machine Learning</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../why/">Why Julia?</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Installation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../installation/julia/">Julia</a></li><li><a class="tocitem" href="../../installation/vscode/">Visual Studio Code</a></li><li><a class="tocitem" href="../../installation/git/">Git</a></li><li><a class="tocitem" href="../../installation/tutorial/">Quickstart guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">1: Variables and basic operators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/variables/">Variables</a></li><li><a class="tocitem" href="../../lecture_01/operators/">Elementary functions</a></li><li><a class="tocitem" href="../../lecture_01/strings/">Strings</a></li><li><a class="tocitem" href="../../lecture_01/arrays/">Arrays</a></li><li><a class="tocitem" href="../../lecture_01/data_structures/">Data structures</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">2: Control flow</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../conditions/">Conditional evaluations</a></li><li><a class="tocitem" href="../loops/">Loops and iterators</a></li><li><a class="tocitem" href="../scope/">Soft local scope</a></li><li class="is-active"><a class="tocitem" href>Exercises</a><ul class="internal"><li><a class="tocitem" href="#Animation"><span>Animation</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">3: Functions and methods</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/functions/">Functions</a></li><li><a class="tocitem" href="../../lecture_03/methods/">Methods</a></li><li><a class="tocitem" href="../../lecture_03/scope/">Scope of variables</a></li><li><a class="tocitem" href="../../lecture_03/exceptions/">Exception handling</a></li><li><a class="tocitem" href="../../lecture_03/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">4: Packages</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_04/standardlibrary/">Standard library</a></li><li><a class="tocitem" href="../../lecture_04/Plots/">Plots.jl</a></li><li><a class="tocitem" href="../../lecture_04/DataFrames/">DataFrames.jl</a></li><li><a class="tocitem" href="../../lecture_04/otherpackages/">Other useful packages</a></li><li><a class="tocitem" href="../../lecture_04/interaction/">Interaction with other languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">5: Type system and generic programming</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_05/compositetypes/">Abstract and composite types</a></li><li><a class="tocitem" href="../../lecture_05/currencies/">Generic programming</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">6: Code organization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_06/modules/">Files and modules</a></li><li><a class="tocitem" href="../../lecture_06/pkg/">Package manager</a></li><li><a class="tocitem" href="../../lecture_06/develop/">Package development</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-10" type="checkbox"/><label class="tocitem" for="menuitem-10"><span class="docs-label">Course requirements</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../final_project/homeworks/">Homework</a></li><li><a class="tocitem" href="../../final_project/project/">Final project</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-11" type="checkbox"/><label class="tocitem" for="menuitem-11"><span class="docs-label">7: Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_07/theory/">Introduction to continuous optimization</a></li><li><a class="tocitem" href="../../lecture_07/unconstrained/">Unconstrained optimization</a></li><li><a class="tocitem" href="../../lecture_07/constrained/">Constrained optimization</a></li><li><a class="tocitem" href="../../lecture_07/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-12" type="checkbox"/><label class="tocitem" for="menuitem-12"><span class="docs-label">8: Regression and classification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_08/theory/">Introduction to regression and classification</a></li><li><a class="tocitem" href="../../lecture_08/linear/">Linear regression</a></li><li><a class="tocitem" href="../../lecture_08/logistic/">Logistic regression</a></li><li><a class="tocitem" href="../../lecture_08/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-13" type="checkbox"/><label class="tocitem" for="menuitem-13"><span class="docs-label">9: Neural networks I.</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_09/theory/">Theory of neural networks</a></li><li><a class="tocitem" href="../../lecture_09/nn/">Neural networks</a></li><li><a class="tocitem" href="../../lecture_09/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-14" type="checkbox"/><label class="tocitem" for="menuitem-14"><span class="docs-label">10: Neural networks II.</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_10/theory/">Theory of neural networks</a></li><li><a class="tocitem" href="../../lecture_10/iris/">Introduction to Flux</a></li><li><a class="tocitem" href="../../lecture_10/nn/">More complex networks</a></li><li><a class="tocitem" href="../../lecture_10/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-15" type="checkbox"/><label class="tocitem" for="menuitem-15"><span class="docs-label">11: Statistics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_11/theory/">Statistics</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-16" type="checkbox"/><label class="tocitem" for="menuitem-16"><span class="docs-label">12: Ordinary differential equations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_12/theory/">Differential equations</a></li><li><a class="tocitem" href="../../lecture_12/ode/">Wave equation</a></li><li><a class="tocitem" href="../../lecture_12/diff_eq/">Julia package</a></li><li><a class="tocitem" href="../../lecture_12/optimal_control/">Optimal control</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">2: Control flow</a></li><li class="is-active"><a href>Exercises</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Exercises</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/VaclavMacha/JuliaCourse/blob/master/docs/src/lecture_02/exercises.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Julia-set"><a class="docs-heading-anchor" href="#Julia-set">Julia set</a><a id="Julia-set-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-set" title="Permalink"></a></h1><p>So far, we used only the standard library shipped with Julia. However, the standard library provides only basic functionality. If we want to get additional functions, we have to use extra packages. There is a <a href="https://github.com/JuliaPlots/Plots.jl">Plots</a> package for creating plots. Packages can be installed via Pkg REPL. To enter the Pkg REPL from the Julia REPL, press <code>]</code> and install the package by</p><pre><code class="language-julia">(@v1.5) pkg&gt; add Plots</code></pre><p>We need to use the <code>using</code> keyword to load the package. For example, we can use the Plots package to visualize the <code>sin</code> and <code>cos</code> functions.</p><pre><code class="language-julia">using Plots
x = 0:0.01π:2π

plot(x, sin.(x); label = &quot;sinus&quot;, linewidth = 2)
plot!(x, cos.(x); label = &quot;cosinus&quot;, linewidth = 2)</code></pre><p><img src="../sin.svg" alt/></p><p>There will be a whole <a href="../../lecture_04/Plots/#Plots.jl">section</a> dedicated to the Plots package. However, we need some basic functionality to visualize the outputs of the following exercises.</p><div class = "exercise-body">
<header class = "exercise-header">Exercise 1: </header><p><p>Every programmer should be able to rewrite pseudocode to actual code. The goal of this exercise is to rewrite the following pseudocode:</p><p><img src="../juliasetalg.png" alt/></p><p>This pseudocode describes how to compute the <a href="https://en.wikipedia.org/wiki/Julia_set">Julia set</a> for the following function</p><p class="math-container">\[f_c(z) = z^2 + c,\]</p><p>where <span>$c \in \mathbb{C}$</span> is a complex parameter. To test the resulting code, try the following settings of input parameters</p><ul><li><span>$x$</span> is a vector of 1500 evenly spaced numbers from <code>-1.5</code> to <code>1.5</code>.</li><li><span>$y$</span> is a vector of 1000 evenly spaced numbers from <code>-1</code> to <code>1</code>.</li><li><span>$c = - 0.4 + 0.61 \cdot i$</span></li><li><span>$R = 2$</span></li><li><span>$N = 1000$</span></li></ul><p>Use this code given below to plot the heatmap of the matrix <span>$A$</span>.</p><pre><code class="language-julia">using Plots
heatmap(A;
    c = :viridis,
    clims = (0, 0.15),
    cbar = :none,
    axis = :none,
    ticks = :none
)</code></pre></p></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>Firstly, we have to define all input parameters.</p><pre><code class="language-julia">c = - 0.4 + 0.61im
R = 2
N = 1000
L = 1500
K = 1000</code></pre><p>The second step is to define the vectors <code>x</code> and <code>y</code>. Since we know that these vectors contain evenly spaced numbers, and we also know the starting point, the stopping point, and the length of the vectors, we can use the <code>range</code> function.</p><pre><code class="language-julia">x = range(-1.5, 1.5; length = L)
y = range(-1.0, 1.0; length = K)</code></pre><p>The next step is to define the <code>A</code> matrix of zeros by the <code>zeros</code> function.</p><pre><code class="language-julia">A = zeros(K, L)</code></pre><p>Now, we rewrite the for loops from the pseudocode. It is possible to rewrite the pseudocode in an almost identical way. However, in many cases, the code can be simplified. For example, we can use the shorter syntax for writing nested <code>for</code> loops.</p><pre><code class="language-julia">for k in 1:K, l in 1:L
    z = x[l] + y[k]*im
    for n in 0:N
        if abs(z) &gt; R^2 - R
            A[k, l] = n/N
            break
        end
        z = z^2 + c
    end
end</code></pre><p>Finally, we visualize the heatmap of the matrix <code>A</code>.</p><pre><code class="language-julia">using Plots
heatmap(A;
    c = :viridis,
    clims = (0, 0.15),
    cbar = :none,
    axis = :none,
    ticks = :none,
)</code></pre></p></details><p><img src="../juliaset.svg" alt/></p><div class = "exercise-body">
<header class = "exercise-header">Exercise 2:</header><p><p>In the previous exercise, we rewrote pseudocode to an actual Julia code. This exercise will improve the central part of the code: the inner loop. Write a function which replaces the inner loop in the code from the exercise above. Use the following function definition</p><pre><code class="language-julia">function juliaset(z, c, R, N)
    ???
    return ???
end</code></pre><p>where <span>$z, c \in \mathbb{C}$</span>, <span>$R \in \mathbb{R}$</span> and <span>$N \in \mathbb{N}$</span>. Use the <code>while</code> loop to replace the <code>for</code> loop in the original pseudocode. Visualize the resulting matrix by the same code as in the previous exercise.</p><p><strong>Hint:</strong> recall that the function should return <code>0</code> if <code>n &gt; N</code> and <code>n/N</code> otherwise.</p></p></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>As suggested in the exercise description, we will use the <code>while</code> loop. Using the <code>while</code> loop, we have to define a stopping condition. In this case, we have two conditions:</p><ol><li>maximal number of iterations is <code>N + 1</code>,</li><li>the absolute value of <code>z</code> needs to be smaller or equal to <code>R^2 - R</code>.</li></ol><p>These two conditions can be merged into <code>n &lt;= N &amp;&amp; abs(z) &lt;= R^2 - R</code>. Inside the <code>while</code> loop, we only have to update <code>n</code> and <code>z</code>.</p><pre><code class="language-julia">function juliaset(z, c, R, N)
    n = 0
    while n &lt;= N &amp;&amp; abs(z) &lt;= R^2 - R
        n += 1
        z = z^2 + c
    end
    return n &gt; N ? 0 : n/N
end</code></pre><p>We use the ternary operator to decide which value is returned. Now we need to define all input parameters as in the previous exercise.</p><pre><code class="language-julia">c = - 0.4 + 0.61im
R = 2
N = 1000
x = range(-1.5, 1.5; length = 1500)
y = range(-1.0, 1.0; length = 1000)</code></pre><p>We can use a nested <code>for</code> loops to create <code>A</code>. However, a simpler way is to use the list comprehension or broadcasting to vectorize the <code>juliaset</code> function.</p><pre><code class="language-julia">A1 = [juliaset(xl + yk*im, c, R, N) for yk in y, xl in x]
A2 = juliaset.(x&#39; .+ y .* im, c, R, N)</code></pre><p>Both <code>A1</code> and <code>A2</code> are the same. In the second case, we have to pay attention to use the correct form of the input. We use the transposition of <code>x</code>. Finally, we can call the same code to create the same plot.</p><pre><code class="language-julia">using Plots
heatmap(A1;
    c = :viridis,
    clims = (0, 0.15),
    cbar = :none,
    axis = :none,
    ticks = :none,
    size = (800, 600),
)</code></pre></p></details><p><img src="../juliaset_ex2.svg" alt/></p><div class = "exercise-body">
<header class = "exercise-header">Exercise 3: </header><p><p>Try different values of variable <code>c</code> to create different plots. For inspiration, check the Wikipedia page about <a href="https://en.wikipedia.org/wiki/Julia_set">Julia set</a>.</p></p></div><ul><li><span>$c = 0.285 + 0.01 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_1.svg" alt/></p><ul><li><span>$c = - 0.835 - 0.2321 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_2.svg" alt/></p><ul><li><span>$c = -0.8 + 0.156 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_3.svg" alt/></p><ul><li><span>$c = -0.70176 + 0.3842 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_4.svg" alt/></p><h2 id="Animation"><a class="docs-heading-anchor" href="#Animation">Animation</a><a id="Animation-1"></a><a class="docs-heading-anchor-permalink" href="#Animation" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>It takes a lot of time to create the animation below, especially when using the default <a href="https://github.com/jheinen/GR.jl">GR</a> backend for the Plots package. The plotting time can be reduced by using a different backend such as the <a href="https://github.com/JuliaPy/PyPlot.jl">PyPlot</a> backend.</p><pre><code class="language-julia">using Plots, PyPlot
pyplot()</code></pre><p>The PyPlot package must be installed first. An alternative way is to use the <a href="https://github.com/JuliaPlots/Makie.jl">Makie</a> package instead of the Plots package.</p></div></div><p>We will now create an animation of the Julia sets for <code>c</code> defined as follows</p><p class="math-container">\[c_k = 0.7885 \exp \{ k \cdot i \}, \qquad k \in \left [\frac{\pi}{2}, \frac{3\pi}{2} \right ].\]</p><p>Firstly, we create the vector of all values <code>c</code> by combining the <code>range</code> function and broadcasting.</p><pre><code class="language-julia">cs = 0.7885 .* exp.(range(π/2, 3π/2; length = 500) .* im)</code></pre><p>Note that we use the <code>length</code> keyword to specify the length of <code>cs</code>. To create an animation, it suffices to use the <code>for</code> loop in combination with the <code>@animate</code> macro.</p><pre><code class="language-julia">anim = @animate for c in cs
    A = juliaset.(x&#39; .+ y .* im, c, R, N)
    heatmap(A;
        c = :viridis,
        clims = (0, 0.15),
        cbar = :none,
        axis = :none,
        ticks = :none,
        size = (800, 600),
    )
end
gif(anim, &quot;juliaset.gif&quot;, fps = 20) # save animation as a gif</code></pre><p>The code inside the loop is the same as in the previous exercise.</p><p><img src="../juliaset.gif" alt/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../scope/">« Soft local scope</a><a class="docs-footer-nextpage" href="../../lecture_03/functions/">Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 26 April 2021 22:24">Monday 26 April 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
