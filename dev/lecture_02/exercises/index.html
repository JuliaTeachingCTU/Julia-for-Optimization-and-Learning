<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Exercises · Numerical computing in Julia</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Numerical computing in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Numerical computing in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit">Numerical computing in Julia</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Installation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../installation/julia/">Julia</a></li><li><a class="tocitem" href="../../installation/vscode/">Visual Studio Code</a></li><li><a class="tocitem" href="../../installation/git/">Git</a></li><li><a class="tocitem" href="../../installation/tutorial/">Quick Start Guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">1: Variables and basic operators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/variables/">Variables</a></li><li><a class="tocitem" href="../../lecture_01/operators/">Elementary Functions</a></li><li><a class="tocitem" href="../../lecture_01/strings/">Strings</a></li><li><a class="tocitem" href="../../lecture_01/arrays/">Arrays</a></li><li><a class="tocitem" href="../../lecture_01/data_structures/">Data Structures</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">2: Control flow</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../conditions/">Conditional Evaluation</a></li><li><a class="tocitem" href="../loops/">Loops and Iterators</a></li><li><a class="tocitem" href="../scope/">Soft Local Scope</a></li><li class="is-active"><a class="tocitem" href>Exercises</a><ul class="internal"><li><a class="tocitem" href="#Animation"><span>Animation</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">3: Functions and methods</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/functions/">Functions</a></li><li><a class="tocitem" href="../../lecture_03/methods/">Methods</a></li><li><a class="tocitem" href="../../lecture_03/scope/">Scope of Variables</a></li><li><a class="tocitem" href="../../lecture_03/exceptions/">Exception Handling</a></li><li><a class="tocitem" href="../../lecture_03/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">4: Packages</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_04/basics/">Package Management</a></li><li><a class="tocitem" href="../../lecture_04/standardlibrary/">Standard Library</a></li><li><a class="tocitem" href="../../lecture_04/Plots/">Plots.jl</a></li><li><a class="tocitem" href="../../lecture_04/DataFrames/">DataFrames.jl</a></li><li><a class="tocitem" href="../../lecture_04/otherpackages/">Other Useful Packages</a></li></ul></li><li><span class="tocitem">5: Composite types and constructors</span></li><li><span class="tocitem">6: Modules and enviroments</span></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">7: Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_07/theory/">Introduction to continuous optimization</a></li><li><a class="tocitem" href="../../lecture_07/unconstrained/">Unconstrained optimization</a></li><li><a class="tocitem" href="../../lecture_07/constrained/">Constrained optimization</a></li><li><a class="tocitem" href="../../lecture_07/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-10" type="checkbox"/><label class="tocitem" for="menuitem-10"><span class="docs-label">8: Regression and classification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_08/theory/">Theory of regression and classification</a></li><li><a class="tocitem" href="../../lecture_08/linear/">Linear regression</a></li><li><a class="tocitem" href="../../lecture_08/logistic/">Logistic regression</a></li><li><a class="tocitem" href="../../lecture_08/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-11" type="checkbox"/><label class="tocitem" for="menuitem-11"><span class="docs-label">9: Neural networks I.</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_09/theory/">Theory of neural networks</a></li><li><a class="tocitem" href="../../lecture_09/nn/">Neural networks</a></li><li><a class="tocitem" href="../../lecture_09/exercises/">Exercises</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-12" type="checkbox"/><label class="tocitem" for="menuitem-12"><span class="docs-label">10: Neural networks II.</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_10/theory/">Theory of neural networks</a></li><li><a class="tocitem" href="../../lecture_10/nn/">More complex networks</a></li><li><a class="tocitem" href="../../lecture_10/exercises/">Exercises</a></li></ul></li><li><span class="tocitem">11: Statistics</span></li><li><input class="collapse-toggle" id="menuitem-14" type="checkbox"/><label class="tocitem" for="menuitem-14"><span class="docs-label">12: Ordinary differential equations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_12/theory/">Differential equations</a></li><li><a class="tocitem" href="../../lecture_12/ode/">Wave equation</a></li><li><a class="tocitem" href="../../lecture_12/diff_eq/">Julia package</a></li><li><a class="tocitem" href="../../lecture_12/optimal_control/">Optimal control</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">2: Control flow</a></li><li class="is-active"><a href>Exercises</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Exercises</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/VaclavMacha/JuliaCourse/blob/master/docs/src/lecture_02/exercises.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Exercises"><a class="docs-heading-anchor" href="#Exercises">Exercises</a><a id="Exercises-1"></a><a class="docs-heading-anchor-permalink" href="#Exercises" title="Permalink"></a></h1><p>So far, we use only the standard library that is shipped with Julia. However, the standard library provides only basic functionality. If we want to get additional functions, we have to use extra packages. For example, there is a <a href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> package that allows us to create plots. Packages can be installed via Pkg REPL. To enter the Pkg REPL from the Julia REPL, we have to press the <code>]</code> symbol. Then the  Plots package can be installed as follows</p><pre><code class="language-julia">(@v1.5) pkg&gt; add Plots</code></pre><p>If we install an additional package, we have to use the <code>using</code> keyword to load the package, and then we can start using it. For example, we can use the Plots package to visualize the <code>sin</code> and <code>cos</code> functions as follows</p><pre><code class="language-julia">using Plots
x = 0:0.01π:2π

plot(x, sin.(x); label = &quot;sinus&quot;, linewidth = 2)
plot!(x, cos.(x); label = &quot;cosinus&quot;, linewidth = 2)</code></pre><p><img src="../sin.svg" alt/></p><p>There will be a whole <a href="../../lecture_04/Plots/#Plots.jl">section</a> about the Plots package later in the course.  However, we need some basic functionality to visualize the outputs of the following exercises.</p><div class = "exercise-body">
<header class = "exercise-header">Exercise 1: </header><p><p>Every programmer should be able to rewrite pseudocode to actual code. The goal of this exercise is to rewrite the following pseudocode</p><p><img src="../juliasetalg.png" alt/></p><p>The given pseudocode describes how to compute the <a href="https://en.wikipedia.org/wiki/Julia_set">Julia set</a> for the following function</p><p class="math-container">\[f_c(z) = z^2 + c\]</p><p>where <span>$c \in \mathbb{C}$</span> is a complex parameter. To test the resulting code, try the following settings of input parameters</p><ul><li><span>$x$</span> is a vector of 1500 evenly spaced numbers from <code>-1.5</code> to <code>1.5</code>.</li><li><span>$y$</span> is a vector of 1000 evenly spaced numbers from <code>-1</code> to <code>1</code>.</li><li><span>$c = - 0.4 + 0.61 \cdot i$</span></li><li><span>$R = 2$</span></li><li><span>$N = 1000$</span></li></ul><p>Use the code given below to plot the resulting matrix <span>$A$</span></p><pre><code class="language-julia">using Plots
heatmap(A;
    c = :viridis,
    clims = (0, 0.15),
    cbar = :none,
    axis = :none,
    ticks = :none
)</code></pre></p></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>Firstly, we have to define all input parameters</p><pre><code class="language-julia">c = - 0.4 + 0.61im
R = 2
N = 1000
L = 1500
K = 1000</code></pre><p>The second step is to define vectors <code>x</code> and <code>y</code>. Since we know that these vectors contain evenly spaced numbers, and we also know the starting point, the stopping point, and the length of the vectors, we can use the <code>range</code> function to generate them</p><pre><code class="language-julia">x = range(-1.5, 1.5; length = L)
y = range(-1.0, 1.0; length = K)
nothing # hide</code></pre><p>The next step is to define the <code>A</code> matrix full of zeros. This step can be done simply by using the <code>zeros</code> function</p><pre><code class="language-julia">A = zeros(K, L)</code></pre><p>Now, we can rewrite the for loops from the given pseudocode. It is possible to rewrite the pseudocode in an almost identical way. However, in many cases, the code can be simplified. For example, we can use the shorter syntax for writing nested <code>for</code> loops as follows</p><pre><code class="language-julia">for k in 1:K, l in 1:L
    z = x[l] + y[k]*im
    for n in 1:N
        z = z^2 + c
        if abs(z) &gt; R^2 - R
            A[k, l] = n/N
            break
        end
    end
end</code></pre><p>Finally, we can use the code provided in the description of the exercise to visualize the matrix <code>A</code></p><pre><code class="language-julia">using Plots
heatmap(A;
    c = :viridis,
    clims = (0, 0.15),
    cbar = :none,
    axis = :none,
    ticks = :none,
    size = (800, 600),
)</code></pre></p></details><p><img src="../juliaset.svg" alt/></p><div class = "exercise-body">
<header class = "exercise-header">Exercise 2:</header><p><p>In the above exercise, we rewrote the pseudocode to the actual Julia code. However, the resulting code is not written in the best possible way. In this exercise, we will try to improve the central part of the code, i.e., the inner loop. Try to write a function that replaces the inner loop in the code from the exercise above. Use the following function definition</p><pre><code class="language-julia">function juliaset(z, c, R, N)
    ???
    return ???
end</code></pre><p>where <span>$z, c \in \mathbb{C}$</span>, <span>$R \in \mathbb{R}$</span> and <span>$N \in \mathbb{N}$</span>. Try to use the <code>while</code> loop to replace the <code>for</code> loop in the original pseudocode. Visualize the resulting matrix using the same code as in the previous exercise.</p><p><strong>Hint:</strong> do not forget, that the function should return <code>0</code> if <code>n == N</code> and <code>n/N</code> otherwise.</p></p></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>As suggested in the exercise description, we will use the <code>while</code> loop because it is more suitable in this case. When using the <code>while</code> loop, we have to define the stopping condition. In this case, we have two conditions:</p><ol><li>maximal number of iterations is <code>N</code>,</li><li>the absolute value of variable <code>z</code> has to be smaller or equal to <code>R^2 - R</code>.</li></ol><p>These two conditions can be merged together as follows <code>n &lt;= N &amp;&amp; abs(z) &lt;= R^2 - R</code>. Inside the <code>while</code> loop, we onlye have to update variables <code>n</code> and <code>z</code>. Altogether the function can be defined in the following way</p><pre><code class="language-julia">function juliaset(z, c, R, N)
    n = 0
    while n &lt;= N &amp;&amp; abs(z) &lt;= R^2 - R
        n += 1
        z = z^2 + c
    end
    return n == N ? 0 : n/N
end</code></pre><p>Note that we use the ternary operator to decide which value is returned. With a defined function, we have to define all input parameters as in the previous exercise</p><pre><code class="language-julia">c = - 0.4 + 0.61im
R = 2
N = 1000
x = range(-1.5, 1.5; length = 1500)
y = range(-1.0, 1.0; length = 1000)</code></pre><p>Now we can use nested <code>for</code> loops to create the <code>A</code> matrix. However, it is not the easiest way. It is simpler to use the list comprehension or broadcasting to vectorize the <code>juliaset</code> function</p><pre><code class="language-julia">A1 = [juliaset(xl + yk*im, c, R, N) for yk in y, xl in x]
A2 = juliaset.(x&#39; .+ y .* im, c, R, N)</code></pre><p>In the second case, we have to pay attention to use the correct form of the input. Note that we use transposition of the vector <code>x</code>. Finally, we can call the same code as before to create the same plot</p><pre><code class="language-julia">using Plots
heatmap(A1;
    c = :viridis,
    clims = (0, 0.15),
    cbar = :none,
    axis = :none,
    ticks = :none,
    size = (800, 600),
)</code></pre></p></details><p><img src="../juliaset_ex2.svg" alt/></p><div class = "exercise-body">
<header class = "exercise-header">Exercise 3: </header><p><p>Try different values of variable <code>c</code> to create different plots. For inspiration, check the Wikipedia page about <a href="https://en.wikipedia.org/wiki/Julia_set">Julia set</a>.</p></p></div><ul><li><span>$c = 0.285 + 0.01 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_1.svg" alt/></p><ul><li><span>$c = - 0.835 - 0.2321 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_2.svg" alt/></p><ul><li><span>$c = -0.8 + 0.156 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_3.svg" alt/></p><ul><li><span>$c = -0.70176 + 0.3842 \cdot i$</span></li></ul><p><img src="../juliaset_ex3_4.svg" alt/></p><h2 id="Animation"><a class="docs-heading-anchor" href="#Animation">Animation</a><a id="Animation-1"></a><a class="docs-heading-anchor-permalink" href="#Animation" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>It takes a lot of time to create the animation described below, especially when using the default <a href="https://github.com/jheinen/GR.jl">GR</a> backend for the Plots package. The plotting time can be reduced by using a different backend. For example, the <a href="https://github.com/JuliaPy/PyPlot.jl">PyPlot</a> backend can be used as follows</p><pre><code class="language-julia">using Plots, PyPlot
pyplot()</code></pre><p>Note that the PyPlot package must be installed first. An alternative way is to use the <a href="https://github.com/JuliaPlots/Makie.jl">Makie</a> package instead of the Plots package.</p></div></div><p>It is also possible to create animations using the Plots package. Just for illustration, we will create an animation of Julia sets for <code>c</code> values defined as follows</p><p class="math-container">\[c_k = 0.7885 \exp \{ k \cdot i \}, \qquad k \in \left [\frac{\pi}{2}, \frac{3\pi}{2} \right ]\]</p><p>The vector of all values <code>c</code> can be created using the combination of the <code>range</code> function and broadcasting in the following way</p><pre><code class="language-julia">cs = 0.7885 .* exp.(range(π/2, 3π/2; length = 500) .* im)</code></pre><p>We use the <code>length</code> keyword to specify the length of the resulting vector. The only thing that we have to do to create an animation is to use the <code>for</code> loop in combination with the <code>@animate</code> macro as follows</p><pre><code class="language-julia">anim = @animate for c in cs
    A = juliaset.(x&#39; .+ y .* im, c, R, N)
    heatmap(A;
        c = :viridis,
        clims = (0, 0.15),
        cbar = :none,
        axis = :none,
        ticks = :none,
        size = (800, 600),
    )
end
gif(anim, &quot;juliaset.gif&quot;, fps = 20) # save animation as a gif</code></pre><p>Note that the code inside the loop is the same as we used in the previous exercises. The result is the following animation</p><p><img src="../juliaset.gif" alt/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../scope/">« Soft Local Scope</a><a class="docs-footer-nextpage" href="../../lecture_03/functions/">Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 29 January 2021 13:38">Friday 29 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
